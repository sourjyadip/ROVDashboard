<html>
<head>
  <title>ROV Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <script src="sub.js"></script>
  <script> 
   'use strict';
   
/*
const rclnodejs = require('rclnodejs');

    rclnodejs.init().then(() => {
    const node = rclnodejs.createNode('subscription_example_node');
  
    node.createSubscription('sensor_msgs/msg/Imu', '/rexrov/imu', (msg) => {
           console.log(`Received message: ${typeof msg['orientation']}`, msg['orientation']);	   
	    x = msg['orientation']['x'];
	    y = msg['orientation']['y'];
	    z = msg['orientation']['z'];
	    w = msg['orientation']['w'];

	    eu_angles = quat2eu(x,y,z,w);
	    
	    document.getElementById('roll').innerHTML = "Roll : " + eu_angles[0];
            document.getElementById('pitch').innerHTML = "Pitch : " + eu_angles[1];
	    document.getElementById('yaw').innerHTML = "Yaw : " + eu_angles[2]; 

    });
 
    rclnodejs.spin(node);
 });
 */                                       	  
    function startTime() {
      var today = new Date();
      var h = today.getHours();
      var m = today.getMinutes();
      var s = today.getSeconds();
      m = checkTime(m);
      s = checkTime(s);
      document.getElementById('txt').innerHTML =
      h + ":" + m + ":" + s;
      var t = setTimeout(startTime, 500);
    }
    function checkTime(i) {
      if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
      return i;
    }
    </script>
    <script src="speedometer.js"></script>
</head>
<body onload="startTime(); draw(0);">
  <!--
  <script>
    // 1. Require the installed module
    const customTitlebar = require('custom-electron-titlebar');

    // 2. Create the custom titlebar with your own settings
    //    To make it work, we just need to provide the backgroundColor property
    //    Other properties are optional.
    let MyTitleBar = new customTitlebar.Titlebar({
        backgroundColor: customTitlebar.Color.fromHex('#000000'),
        shadow: true,
    });
    MyTitleBar.updateTitle('IXAR ROV Dashboard');
  </script>
-->
<nav class="navigation-bar">
  <!--<img class="logo" src="logo.png">-->
  <a href="connect.html">CONNECT</a>
  <a href="calib.html">CALIBRATION</a>
  <a class="active" href="index.html">NAVIGATION</a>
  <a href="sonar.html">SONAR</a>
</nav>
<div class="feed">
  <h4>PRIMARY CAMERA FEED </h4>
 <video width="700" height="300" controls>
  <source src="video1.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
</div>
<div class = "feed2">
  <h4>SECONDARY CAMERA FEED </h4> 
  <video width="500" height="320" controls>
    <source src="video2.mp4" type="video/mp4">
  Your browser does not support the video tag.
  </video>

</div>
<div class="container">
  <div class="orientation-angle">
    <h4>ORIENTATION ANGLES</h4>
    <div class="column1">
    <p>X: 233.0000</p>
    <p>Y: 122.0000</p>
    <p>Z: 213.0000</p>
    </div>
    <div class="column2">
    <p id="roll">roll</p>
    <p id="pitch">pitch</p>
    <p id="yaw">yaw</p>
    </div>
  </div>
  <div id="txt"></div>
  <div class="positioning">
    <p>DEPTH: 82.45m</p>
    <p>TEMP: 25.23C</p>
    <p>LATITUDE: 43 23'N</p>
    <p>LONGITUDE: 122 12'E</p>
  </div>
  <canvas id="speedometer" width="440" height="220">Canvas not available.</canvas>
  <!--  <div>
          <form id="drawTemp">
              <input type="text" id="txtSpeed" name="txtSpeed" value="20" maxlength="2"/>
              <input type="button" value="Draw" onclick="drawWithInputValue();">
          </form>
      </div> -->
  </div> 
</body>
</html>
